(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{373:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var r=n(415),o=n(432),c=n(422);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,r,o,c,u){try{var i=e[c](u),a=i.value}catch(e){return void n(e)}i.done?t(a):Promise.resolve(a).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function u(e){i(c,r,o,u,a,"next",e)}function a(e){i(c,r,o,u,a,"throw",e)}u(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=new Headers({"content-type":"application/json","X-WP-Nonce":Globals.rest_nonce}),d={get:Globals.api_url+"account/read-data/",update:Globals.api_url+"account/"},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,u,i=l(p);function p(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),t=i.call(this,e),n=y(t),r="componentDidMount",o=a(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.fields,r=[],Object.assign(r,n),o={method:"post",mode:"cors",body:JSON.stringify({}),headers:h},e.next=6,n.map(function(){var e=a(regeneratorRuntime.mark((function e(t,n){var c,u,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.reference){e.next=10;break}return o.body=JSON.stringify({fields:t.reference}),e.next=4,fetch(d.get,o);case 4:return c=e.sent,e.next=7,c.json();case 7:for(i in u=e.sent,r[n].value="",u)u.hasOwnProperty(i)&&(r[n].value+=u[i]+" ");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:t.setState({fields:r},(function(){document.dispatchEvent(new CustomEvent("ui-repaint"))}));case 7:case"end":return e.stop()}}),e)}))),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t.state={loading:!0,fields:[{label:"First Name",value:"",reference:[{where:"wp_meta",key:"first_name"}]},{label:"Last Name",value:"",reference:[{where:"wp_meta",key:"last_name"}]},{label:"Email Address",value:"",reference:[{where:"wp_user",key:"user_email"}]},{label:"Phone Number",value:"",reference:[{where:"wp_acf",key:"User/customer/phoneNumber"}]}]},setTimeout((function(){t.forceUpdate(),t.setState({loading:!1},(function(){document.dispatchEvent(new CustomEvent("ui-repaint"))}))}),500),t}return t=p,(n=[{key:"render",value:function(){var e=this.state,t=e.fields,n=e.loading,u=Object(r.h)(c.a,null);return n||(u=t.map((function(e,n){return Object(r.h)(o.a,{label:t[n].label,value:t[n].value,reference:t[n].reference[0]})}))),u}}])&&f(t.prototype,n),u&&f(t,u),p}(r.Component)},421:function(e,t,n){e.exports=n(425)()},422:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(415);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(s,e);var t,n,o,f=a(s);function s(){return c(this,s),f.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){return Object(r.h)("div",{className:"spinner"})}}])&&u(t.prototype,n),o&&u(t,o),s}(r.Component)},425:function(e,t,n){"use strict";var r=n(426);function o(){}function c(){}c.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,c,u){if(u!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:o};return n.PropTypes=n,n}},426:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},432:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(415),o=n(422);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,e);var t,n,o,c=f(s);function s(){return u(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props.errors;return!!e&&Object(r.h)("div",null,e.map((function(e){return Object(r.h)("div",{className:"validation_error"},e)})))}}])&&i(t.prototype,n),o&&i(t,o),s}(r.Component),y=(n(439),n(440));function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r,o,c,u){try{var i=e[c](u),a=i.value}catch(e){return void n(e)}i.done?t(a):Promise.resolve(a).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function u(e){h(c,r,o,u,i,"next",e)}function i(e){h(c,r,o,u,i,"throw",e)}u(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={update:Globals.api_url+"account/update-data"},R=new Headers({"content-type":"application/json","X-WP-Nonce":Globals.rest_nonce}),E={method:"post",mode:"cors",body:JSON.stringify({}),headers:R},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,c,u=w(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(j(e=u.call.apply(u,[this].concat(n))),"state",{edit:!1,newValue:!1,saving:!1,error:!1}),S(j(e),"enableEdit",(function(){e.setState({edit:!0})})),S(j(e),"disableEdit",(function(){e.setState({edit:!1,error:!1})})),S(j(e),"updateValue",(function(t){e.setState({newValue:t.target.value})})),S(j(e),"save",d(regeneratorRuntime.mark((function t(){var n,r,o,c,u,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.reference,r=n.where,o=n.key,c=e.state.newValue,e.setState({saving:!0,error:!1}),E.body=JSON.stringify({where:r,key:o,value:c}),t.next=6,fetch(P.update,E);case 6:return u=t.sent,t.next=9,u.json();case 9:(i=t.sent).error?(y.NotificationManager.error("Validation errors discovered","Error"),e.setState({error:i.error})):(y.NotificationManager.success("Successfully saved","Success"),e.setState({error:!1,edit:!1})),e.setState({saving:!1});case 12:case"end":return t.stop()}}),t)})))),e}return t=i,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.label,c=t.value,u=this.state,i=u.edit,a=u.saving,f=u.error,s=this.state.newValue;return s||(s=c),Object(r.h)("div",null,Object(r.h)("div",{className:"section-row half section-border"},Object(r.h)("div",{className:"dpl-account-field"},Object(r.h)("h3",null,n.toUpperCase()),i?Object(r.h)("div",null,Object(r.h)("input",{className:"account-field__input",type:"text",value:s,onKeyUp:function(t){return e.updateValue(t)}}),a?Object(r.h)(o.a,null):Object(r.h)("a",{className:"account-field__save",onClick:function(){return e.save()},href:"#"},"SAVE"),Object(r.h)("a",{onClick:function(){return e.disableEdit()},className:"account-field__edit",href:"#"},Object(r.h)("span",{className:"underline"},"CANCEL"),"  X")):Object(r.h)("div",null,s,Object(r.h)("a",{onClick:function(){return e.enableEdit()},className:"account-field__edit",href:"#"},Object(r.h)("span",{className:"underline"},"EDIT"),"  ",Object(r.h)("svg",{className:"icon icon-edit-square"},Object(r.h)("use",{"xlink:href":"#icon-edit-square"}))))),!!f&&Object(r.h)(p,{errors:[f]})),Object(r.h)(y.NotificationContainer,null))}}])&&m(t.prototype,n),c&&m(t,c),i}(r.Component)}}]);
//# sourceMappingURL=23.71b2921ddb6c7058efad.js.map